INFO:Main:Starting Dashboard on http://127.0.0.1:8050
Dash is running on http://127.0.0.1:8050/

INFO:dash.dash:Dash is running on http://127.0.0.1:8050/

 * Serving Flask app 'deriv_quant_py.dashboard.app'
 * Debug mode: off
INFO:deriv_quant_py.core.connection:Waiting for initial connection and authorization...
INFO:deriv_quant_py.core.connection:Connecting to wss://ws.binaryws.com/websockets/v3?app_id=1089...
INFO:werkzeug:[31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:8050
INFO:werkzeug:[33mPress CTRL+C to quit[0m
INFO:deriv_quant_py.core.connection:Connected to Deriv API.
ERROR:deriv_quant_py.core.connection:Authorization failed: The token is invalid.
INFO:deriv_quant_py.core.connection:Initial connection established.
INFO:deriv_quant_py.core.scanner:Scanning market for active symbols...
INFO:deriv_quant_py.core.scanner:Market Scan Complete. Found 88 assets.
INFO:Main:Starting Engine on: ['R_10', 'R_100']
ERROR:deriv_quant_py.core.connection:Error in message handler: 'NoneType' object has no attribute 'get'
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:13] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:13] "GET /_dash-component-suites/dash/deps/polyfill@7.v3_3_0m1768211675.12.1.min.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:13] "GET /_dash-component-suites/dash_bootstrap_components/_components/dash_bootstrap_components.v2_0_4m1768211676.min.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:13] "GET /_dash-component-suites/dash/dash-renderer/build/dash_renderer.v3_3_0m1768211675.min.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:13] "GET /_dash-component-suites/dash/deps/react-dom@18.v3_3_0m1768211675.3.1.min.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:13] "GET /_dash-component-suites/dash/deps/prop-types@15.v3_3_0m1768211675.8.1.min.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:13] "GET /_dash-component-suites/dash/deps/react@18.v3_3_0m1768211675.3.1.min.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:13] "GET /_dash-component-suites/dash/dcc/dash_core_components-shared.v3_3_0m1768211675.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:13] "GET /_dash-component-suites/dash/dcc/dash_core_components.v3_3_0m1768211675.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:13] "GET /_dash-component-suites/dash/dash_table/bundle.v6_0_5m1768211675.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:13] "GET /_dash-component-suites/dash/html/dash_html_components.v3_0_5m1768211675.min.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:14] "GET /_dash-dependencies HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:14] "GET /_dash-layout HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:14] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:14] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:14] "POST /_dash-update-component HTTP/1.1" 200 -
ERROR:deriv_quant_py.dashboard.app:Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_get_app.py", line 17, in wrap
    return ctx.run(func, self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/dash.py", line 1585, in dispatch
    response_data = ctx.run(partial_func)
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 721, in add_context
    raise err
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 712, in add_context
    output_value = _invoke_callback(func, *func_args, **func_kwargs)  # type: ignore[reportArgumentType]
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 59, in _invoke_callback
    return func(*args, **kwargs)  # %% callback invoked %%
           ^^^^^^^^^^^^^^^^^^^^^
  File "/app/deriv_quant_py/dashboard/app.py", line 167, in update_scanner
    active_trades = state.get_active_trades()
                    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SharedState' object has no attribute 'get_active_trades'
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:14] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:14] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:14] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:14] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 500 -
ERROR:deriv_quant_py.dashboard.app:Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_get_app.py", line 17, in wrap
    return ctx.run(func, self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/dash.py", line 1585, in dispatch
    response_data = ctx.run(partial_func)
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 721, in add_context
    raise err
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 712, in add_context
    output_value = _invoke_callback(func, *func_args, **func_kwargs)  # type: ignore[reportArgumentType]
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 59, in _invoke_callback
    return func(*args, **kwargs)  # %% callback invoked %%
           ^^^^^^^^^^^^^^^^^^^^^
  File "/app/deriv_quant_py/dashboard/app.py", line 318, in update_charts_container
    state.set_ui_visible_symbols([selected_symbol])
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SharedState' object has no attribute 'set_ui_visible_symbols'
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:14] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:14] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:17] "POST /_dash-update-component HTTP/1.1" 200 -
ERROR:deriv_quant_py.dashboard.app:Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_get_app.py", line 17, in wrap
    return ctx.run(func, self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/dash.py", line 1585, in dispatch
    response_data = ctx.run(partial_func)
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 721, in add_context
    raise err
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 712, in add_context
    output_value = _invoke_callback(func, *func_args, **func_kwargs)  # type: ignore[reportArgumentType]
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 59, in _invoke_callback
    return func(*args, **kwargs)  # %% callback invoked %%
           ^^^^^^^^^^^^^^^^^^^^^
  File "/app/deriv_quant_py/dashboard/app.py", line 167, in update_scanner
    active_trades = state.get_active_trades()
                    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SharedState' object has no attribute 'get_active_trades'
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:17] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 500 -
ERROR:deriv_quant_py.dashboard.app:Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_get_app.py", line 17, in wrap
    return ctx.run(func, self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/dash.py", line 1585, in dispatch
    response_data = ctx.run(partial_func)
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 721, in add_context
    raise err
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 712, in add_context
    output_value = _invoke_callback(func, *func_args, **func_kwargs)  # type: ignore[reportArgumentType]
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 59, in _invoke_callback
    return func(*args, **kwargs)  # %% callback invoked %%
           ^^^^^^^^^^^^^^^^^^^^^
  File "/app/deriv_quant_py/dashboard/app.py", line 318, in update_charts_container
    state.set_ui_visible_symbols([selected_symbol])
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SharedState' object has no attribute 'set_ui_visible_symbols'
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:17] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:20] "POST /_dash-update-component HTTP/1.1" 200 -
ERROR:deriv_quant_py.dashboard.app:Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_get_app.py", line 17, in wrap
    return ctx.run(func, self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/dash.py", line 1585, in dispatch
    response_data = ctx.run(partial_func)
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 721, in add_context
    raise err
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 712, in add_context
    output_value = _invoke_callback(func, *func_args, **func_kwargs)  # type: ignore[reportArgumentType]
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 59, in _invoke_callback
    return func(*args, **kwargs)  # %% callback invoked %%
           ^^^^^^^^^^^^^^^^^^^^^
  File "/app/deriv_quant_py/dashboard/app.py", line 167, in update_scanner
    active_trades = state.get_active_trades()
                    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SharedState' object has no attribute 'get_active_trades'
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:20] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 500 -
ERROR:deriv_quant_py.dashboard.app:Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_get_app.py", line 17, in wrap
    return ctx.run(func, self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/dash.py", line 1585, in dispatch
    response_data = ctx.run(partial_func)
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 721, in add_context
    raise err
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 712, in add_context
    output_value = _invoke_callback(func, *func_args, **func_kwargs)  # type: ignore[reportArgumentType]
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 59, in _invoke_callback
    return func(*args, **kwargs)  # %% callback invoked %%
           ^^^^^^^^^^^^^^^^^^^^^
  File "/app/deriv_quant_py/dashboard/app.py", line 318, in update_charts_container
    state.set_ui_visible_symbols([selected_symbol])
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SharedState' object has no attribute 'set_ui_visible_symbols'
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:20] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:23] "POST /_dash-update-component HTTP/1.1" 200 -
ERROR:deriv_quant_py.dashboard.app:Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_get_app.py", line 17, in wrap
    return ctx.run(func, self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/dash.py", line 1585, in dispatch
    response_data = ctx.run(partial_func)
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 721, in add_context
    raise err
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 712, in add_context
    output_value = _invoke_callback(func, *func_args, **func_kwargs)  # type: ignore[reportArgumentType]
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 59, in _invoke_callback
    return func(*args, **kwargs)  # %% callback invoked %%
           ^^^^^^^^^^^^^^^^^^^^^
  File "/app/deriv_quant_py/dashboard/app.py", line 167, in update_scanner
    active_trades = state.get_active_trades()
                    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SharedState' object has no attribute 'get_active_trades'
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:23] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 500 -
ERROR:deriv_quant_py.dashboard.app:Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_get_app.py", line 17, in wrap
    return ctx.run(func, self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/dash.py", line 1585, in dispatch
    response_data = ctx.run(partial_func)
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 721, in add_context
    raise err
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 712, in add_context
    output_value = _invoke_callback(func, *func_args, **func_kwargs)  # type: ignore[reportArgumentType]
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 59, in _invoke_callback
    return func(*args, **kwargs)  # %% callback invoked %%
           ^^^^^^^^^^^^^^^^^^^^^
  File "/app/deriv_quant_py/dashboard/app.py", line 318, in update_charts_container
    state.set_ui_visible_symbols([selected_symbol])
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SharedState' object has no attribute 'set_ui_visible_symbols'
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:23] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:55] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:55] "GET /_dash-component-suites/dash/deps/react@18.v3_3_0m1768211675.3.1.min.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:55] "GET /_dash-component-suites/dash_bootstrap_components/_components/dash_bootstrap_components.v2_0_4m1768211676.min.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:55] "GET /_dash-component-suites/dash/deps/react-dom@18.v3_3_0m1768211675.3.1.min.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:55] "GET /_dash-component-suites/dash/deps/prop-types@15.v3_3_0m1768211675.8.1.min.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:55] "GET /_dash-component-suites/dash/deps/polyfill@7.v3_3_0m1768211675.12.1.min.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:55] "GET /_dash-component-suites/dash/dash-renderer/build/dash_renderer.v3_3_0m1768211675.min.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:55] "GET /_dash-component-suites/dash/dcc/dash_core_components.v3_3_0m1768211675.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:55] "GET /_dash-component-suites/dash/dcc/dash_core_components-shared.v3_3_0m1768211675.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:55] "GET /_dash-component-suites/dash/html/dash_html_components.v3_0_5m1768211675.min.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:55] "GET /_dash-component-suites/dash/dash_table/bundle.v6_0_5m1768211675.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:55] "GET /_dash-layout HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:55] "GET /_dash-dependencies HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:55] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:55] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:55] "POST /_dash-update-component HTTP/1.1" 200 -
ERROR:deriv_quant_py.dashboard.app:Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_get_app.py", line 17, in wrap
    return ctx.run(func, self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/dash.py", line 1585, in dispatch
    response_data = ctx.run(partial_func)
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 721, in add_context
    raise err
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 712, in add_context
    output_value = _invoke_callback(func, *func_args, **func_kwargs)  # type: ignore[reportArgumentType]
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 59, in _invoke_callback
    return func(*args, **kwargs)  # %% callback invoked %%
           ^^^^^^^^^^^^^^^^^^^^^
  File "/app/deriv_quant_py/dashboard/app.py", line 167, in update_scanner
    active_trades = state.get_active_trades()
                    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SharedState' object has no attribute 'get_active_trades'
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:55] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:55] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:55] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:55] "POST /_dash-update-component HTTP/1.1" 200 -
ERROR:deriv_quant_py.dashboard.app:Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_get_app.py", line 17, in wrap
    return ctx.run(func, self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/dash.py", line 1585, in dispatch
    response_data = ctx.run(partial_func)
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 721, in add_context
    raise err
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 712, in add_context
    output_value = _invoke_callback(func, *func_args, **func_kwargs)  # type: ignore[reportArgumentType]
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 59, in _invoke_callback
    return func(*args, **kwargs)  # %% callback invoked %%
           ^^^^^^^^^^^^^^^^^^^^^
  File "/app/deriv_quant_py/dashboard/app.py", line 318, in update_charts_container
    state.set_ui_visible_symbols([selected_symbol])
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SharedState' object has no attribute 'set_ui_visible_symbols'
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:55] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:55] "POST /_dash-update-component HTTP/1.1" 200 -
ERROR:deriv_quant_py.dashboard.app:Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_get_app.py", line 17, in wrap
    return ctx.run(func, self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/dash.py", line 1585, in dispatch
    response_data = ctx.run(partial_func)
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 721, in add_context
    raise err
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 712, in add_context
    output_value = _invoke_callback(func, *func_args, **func_kwargs)  # type: ignore[reportArgumentType]
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 59, in _invoke_callback
    return func(*args, **kwargs)  # %% callback invoked %%
           ^^^^^^^^^^^^^^^^^^^^^
  File "/app/deriv_quant_py/dashboard/app.py", line 167, in update_scanner
    active_trades = state.get_active_trades()
                    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SharedState' object has no attribute 'get_active_trades'
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:58] "POST /_dash-update-component HTTP/1.1" 200 -
ERROR:deriv_quant_py.dashboard.app:Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_get_app.py", line 17, in wrap
    return ctx.run(func, self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/dash.py", line 1585, in dispatch
    response_data = ctx.run(partial_func)
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 721, in add_context
    raise err
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 712, in add_context
    output_value = _invoke_callback(func, *func_args, **func_kwargs)  # type: ignore[reportArgumentType]
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 59, in _invoke_callback
    return func(*args, **kwargs)  # %% callback invoked %%
           ^^^^^^^^^^^^^^^^^^^^^
  File "/app/deriv_quant_py/dashboard/app.py", line 318, in update_charts_container
    state.set_ui_visible_symbols([selected_symbol])
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SharedState' object has no attribute 'set_ui_visible_symbols'
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:58] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:00:58] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:01:01] "POST /_dash-update-component HTTP/1.1" 200 -
ERROR:deriv_quant_py.dashboard.app:Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_get_app.py", line 17, in wrap
    return ctx.run(func, self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/dash.py", line 1585, in dispatch
    response_data = ctx.run(partial_func)
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 721, in add_context
    raise err
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 712, in add_context
    output_value = _invoke_callback(func, *func_args, **func_kwargs)  # type: ignore[reportArgumentType]
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 59, in _invoke_callback
    return func(*args, **kwargs)  # %% callback invoked %%
           ^^^^^^^^^^^^^^^^^^^^^
  File "/app/deriv_quant_py/dashboard/app.py", line 167, in update_scanner
    active_trades = state.get_active_trades()
                    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SharedState' object has no attribute 'get_active_trades'
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:01:01] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 500 -
ERROR:deriv_quant_py.dashboard.app:Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_get_app.py", line 17, in wrap
    return ctx.run(func, self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/dash.py", line 1585, in dispatch
    response_data = ctx.run(partial_func)
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 721, in add_context
    raise err
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 712, in add_context
    output_value = _invoke_callback(func, *func_args, **func_kwargs)  # type: ignore[reportArgumentType]
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 59, in _invoke_callback
    return func(*args, **kwargs)  # %% callback invoked %%
           ^^^^^^^^^^^^^^^^^^^^^
  File "/app/deriv_quant_py/dashboard/app.py", line 318, in update_charts_container
    state.set_ui_visible_symbols([selected_symbol])
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SharedState' object has no attribute 'set_ui_visible_symbols'
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:01:01] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 500 -
ERROR:deriv_quant_py.dashboard.app:Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_get_app.py", line 17, in wrap
    return ctx.run(func, self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/dash.py", line 1585, in dispatch
    response_data = ctx.run(partial_func)
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 721, in add_context
    raise err
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 712, in add_context
    output_value = _invoke_callback(func, *func_args, **func_kwargs)  # type: ignore[reportArgumentType]
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 59, in _invoke_callback
    return func(*args, **kwargs)  # %% callback invoked %%
           ^^^^^^^^^^^^^^^^^^^^^
  File "/app/deriv_quant_py/dashboard/app.py", line 167, in update_scanner
    active_trades = state.get_active_trades()
                    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SharedState' object has no attribute 'get_active_trades'
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:01:04] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:01:04] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 500 -
ERROR:deriv_quant_py.dashboard.app:Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_get_app.py", line 17, in wrap
    return ctx.run(func, self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/dash.py", line 1585, in dispatch
    response_data = ctx.run(partial_func)
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 721, in add_context
    raise err
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 712, in add_context
    output_value = _invoke_callback(func, *func_args, **func_kwargs)  # type: ignore[reportArgumentType]
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 59, in _invoke_callback
    return func(*args, **kwargs)  # %% callback invoked %%
           ^^^^^^^^^^^^^^^^^^^^^
  File "/app/deriv_quant_py/dashboard/app.py", line 318, in update_charts_container
    state.set_ui_visible_symbols([selected_symbol])
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SharedState' object has no attribute 'set_ui_visible_symbols'
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:01:04] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:31] "GET / HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:31] "GET /_dash-component-suites/dash/deps/prop-types@15.v3_3_0m1768211675.8.1.min.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:31] "GET /_dash-component-suites/dash_bootstrap_components/_components/dash_bootstrap_components.v2_0_4m1768211676.min.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:31] "GET /_dash-component-suites/dash/deps/react-dom@18.v3_3_0m1768211675.3.1.min.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:31] "GET /_dash-component-suites/dash/deps/react@18.v3_3_0m1768211675.3.1.min.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:31] "GET /_dash-component-suites/dash/deps/polyfill@7.v3_3_0m1768211675.12.1.min.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:31] "GET /_dash-component-suites/dash/dash-renderer/build/dash_renderer.v3_3_0m1768211675.min.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:31] "GET /_dash-component-suites/dash/dcc/dash_core_components.v3_3_0m1768211675.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:31] "GET /_dash-component-suites/dash/dcc/dash_core_components-shared.v3_3_0m1768211675.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:31] "GET /_dash-component-suites/dash/html/dash_html_components.v3_0_5m1768211675.min.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:31] "GET /_dash-component-suites/dash/dash_table/bundle.v6_0_5m1768211675.js HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:31] "GET /_dash-layout HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:31] "GET /_dash-dependencies HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:31] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:31] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:31] "POST /_dash-update-component HTTP/1.1" 200 -
ERROR:deriv_quant_py.dashboard.app:Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_get_app.py", line 17, in wrap
    return ctx.run(func, self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/dash.py", line 1585, in dispatch
    response_data = ctx.run(partial_func)
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 721, in add_context
    raise err
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 712, in add_context
    output_value = _invoke_callback(func, *func_args, **func_kwargs)  # type: ignore[reportArgumentType]
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 59, in _invoke_callback
    return func(*args, **kwargs)  # %% callback invoked %%
           ^^^^^^^^^^^^^^^^^^^^^
  File "/app/deriv_quant_py/dashboard/app.py", line 167, in update_scanner
    active_trades = state.get_active_trades()
                    ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SharedState' object has no attribute 'get_active_trades'
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:32] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:32] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:32] "POST /_dash-update-component HTTP/1.1" 200 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:32] "POST /_dash-update-component HTTP/1.1" 200 -
ERROR:deriv_quant_py.dashboard.app:Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_get_app.py", line 17, in wrap
    return ctx.run(func, self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/dash.py", line 1585, in dispatch
    response_data = ctx.run(partial_func)
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 721, in add_context
    raise err
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 712, in add_context
    output_value = _invoke_callback(func, *func_args, **func_kwargs)  # type: ignore[reportArgumentType]
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 59, in _invoke_callback
    return func(*args, **kwargs)  # %% callback invoked %%
           ^^^^^^^^^^^^^^^^^^^^^
  File "/app/deriv_quant_py/dashboard/app.py", line 318, in update_charts_container
    state.set_ui_visible_symbols([selected_symbol])
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SharedState' object has no attribute 'set_ui_visible_symbols'
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:32] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:32] "POST /_dash-update-component HTTP/1.1" 200 -
ERROR:deriv_quant_py.dashboard.app:Exception on /_dash-update-component [POST]
Traceback (most recent call last):
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_get_app.py", line 17, in wrap
    return ctx.run(func, self, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/dash.py", line 1585, in dispatch
    response_data = ctx.run(partial_func)
                    ^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 721, in add_context
    raise err
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 712, in add_context
    output_value = _invoke_callback(func, *func_args, **func_kwargs)  # type: ignore[reportArgumentType]
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/jules/.pyenv/versions/3.12.12/lib/python3.12/site-packages/dash/_callback.py", line 59, in _invoke_callback
    return func(*args, **kwargs)  # %% callback invoked %%
           ^^^^^^^^^^^^^^^^^^^^^
  File "/app/deriv_quant_py/dashboard/app.py", line 357, in update_charts_container
    state.set_ui_visible_symbols(visible_subset)
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'SharedState' object has no attribute 'set_ui_visible_symbols'
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:32] "[35m[1mPOST /_dash-update-component HTTP/1.1[0m" 500 -
INFO:werkzeug:127.0.0.1 - - [12/Jan/2026 10:02:32] "POST /_dash-update-component HTTP/1.1" 200 -
